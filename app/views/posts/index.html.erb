<div class="index-container" style="width:40%; margin: 50px auto;">
	<div class="row">

		<h2>投稿一覧</h2>
		<table class="table table-hover table-inverse">
				<thead>
					<tr>
						<th></th>
						<th>トピック</th>
						<th>内容</th>
						<th colspan="3"></th>
					</tr>
				</thead>

				<tbody>
					<% @posts.each do |post| %>
					<tr>
						<td>
							<%= link_to user_path(post.user) do %>
							<%= attachment_image_tag(post.user, :profile_image, :fill, 50, 50, fallback: "default1.png.jpg") %>
							<% end %>
						</td>
						<td><%= link_to post.title, post_path(post), class: "post_#{post.id}" %></td>
						<td><%= post.body %></td>

						<!-- 頑張ろうね ありがとう機能 -->
						<td>
							<!-- ifにかけるのはeach文のpost @postだとpost.new（空の本)だから頑張ろうね ありがとうが反映されない -->
							<!-- post.do_our_bests(頑張ろうねされた投稿)の中に、引数で送られたuserのidがあるかどうか？ -->
							<% if post.favorited_by?(current_user) %>
							<%= link_to post_do_our_bests(post), method: :delete do %>
							<i class="fa fa-heart" aria-hidden="true" style="color: red;"></i>
							<%= post.do_our_bests.count %>
							<% end %>
							<% else %>
							<%= link_to post_do_our_bests(post), method: :post do %>
							<i class="fa fa-heart-o" aria-hidden="true"></i>
							<%= post.do_our_bests.count %>
							<% end %>
							<% end %>
						</td>

<!-- post#showの@post_comments.countと比較 -->
<!-- それぞれの本に対してのコメント数を表示 -->
<!--post(eachで回しているpost).post_comments(モデル名).count-->
						<td>コメント数:<%= post.post_comments.count %>件</td>
					</tr>
					<% end %>
				</tbody>
			</table>

	</div>
</div>